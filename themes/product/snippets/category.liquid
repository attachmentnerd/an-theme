<div class="syllabus__item" id="category-{{ category.id }}">
  <style>
    .category-card {
      display: grid;
      grid-template-columns: var(--card-media-width, 160px) 1fr auto;
      gap: var(--card-grid-gap, var(--space-md));
      padding: var(--space-md);
      border: 1px solid var(--border-light);
      border-radius: var(--radius-md);
      background: var(--c-white);
      box-shadow: var(--shadow-card);
      transition: transform var(--duration-fast) var(--motion-ease-standard), box-shadow var(--duration-fast) var(--motion-ease-standard);
    }
    .category-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    .category-card__media {
      position: relative;
      width: var(--card-media-width, 160px);
      aspect-ratio: var(--card-media-aspect, 16/9);
      border-radius: var(--card-media-radius, var(--radius-sm));
      overflow: hidden;
      background: var(--c-bg-light);
      flex-shrink: 0;
    }
    .category-card__img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .category-card__badge {
      position: absolute;
      top: 8px;
      left: 8px;
      background: var(--c-brand-600);
      color: var(--c-white);
      border-radius: var(--radius-pill);
      padding: 2px 8px;
      font-size: var(--fs-tiny);
      line-height: 1.4;
    }
    .category-card__body {
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 0;
    }
    .category-card__title {
      margin: 0 0 4px 0;
      font-size: var(--fs-h5);
      line-height: var(--lh-tight);
      color: var(--c-ink-900);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .category-card__desc {
      margin: 0;
      color: var(--c-ink-700);
      font-size: var(--fs-body);
    }
    .category-card__aside {
      display: flex;
      align-items: center;
    }
    @media (max-width: 640px) {
      .category-card {
        grid-template-columns: 1fr;
      }
      .category-card__media {
        width: 100%;
        aspect-ratio: var(--card-media-aspect, 16/9);
      }
      .category-card__aside {
        margin-top: var(--space-sm);
        justify-content: flex-start;
      }
    }
  </style>

  {% if category.pending_drip? %}
    <div class="category-card">
      <div class="category-card__media">
        {% if category.poster_image_url %}
          <img src="{{ category.poster_image_url }}" alt="{{ category.title }}" class="category-card__img">
        {% else %}
          <img src="{{ 'placeholder.png' | asset_url }}" alt="{{ category.title }}" class="category-card__img">
        {% endif %}
        <span class="category-card__badge" kjb-settings-id="{{ 'coming_soon' | settings_id: section: section }}">{{ section.settings.coming_soon }}</span>
      </div>
      <div class="category-card__body">
        <p class="category-card__title">
          {{ category.title }}
          {% if category.show_as_paywalled? %}
            {% include "icon_paywall" %}
          {% endif %}
        </p>
        {% if category.description %}
          <p class="category-card__desc">{{ category.description }}</p>
        {% endif %}
      </div>
      <div class="category-card__aside"></div>
    </div>
  {% else %}
    <a href="{{ category.url }}" class="category-card">
      <div class="category-card__media">
        {% if category.poster_image_url %}
          <img src="{{ category.poster_image_url }}" alt="{{ category.title }}" class="category-card__img">
        {% else %}
          <img src="{{ 'placeholder.png' | asset_url }}" alt="{{ category.title }}" class="category-card__img">
        {% endif %}
        {% if category.show_as_paywalled? %}
          <span class="category-card__badge">Locked</span>
        {% endif %}
      </div>
      <div class="category-card__body">
        <p class="category-card__title">
          {{ category.title }}
          {% if category.show_as_paywalled? %}
            {% include "icon_paywall" %}
          {% endif %}
        </p>
        {% if category.description %}
          <p class="category-card__desc">{{ category.description }}</p>
        {% endif %}
      </div>
      <div class="category-card__aside">
        {% include "progress", is_completed: category.completed?, percent_complete: category.completion.percent %}
      </div>
    </a>
  {% endif %}
</div>
