<script>
  function post_sidebar() {
    var sidebar_section = document.querySelector('.post_sidebar').parentElement
    if (sidebar_section.length != 0) {
      sidebar_section.closest('div[data-section-id]').setAttribute('class', 'post_sidebar_section')

      let wraper = document.querySelector('div[data-dynamic-sections="post"]')
      var sections = wraper.querySelectorAll('div[data-section-id]')
      var d_class = "post_top"
      for (section of sections) {
        if (section == sidebar_section) {
          d_class = "post_left"
          continue
        }
        section.classList.add(d_class)
      }

    }
  }
  post_sidebar()

  // 
  {% if editor %}

    // 
    jQuery(function($) {
      if ($('div[data-dynamic-sections="post"] > div').length > 0) {

        setInterval(function() {
          post_sidebar()
        }, 1000)
      }
    })

    // 
  {%endif%}

  //
</script>
