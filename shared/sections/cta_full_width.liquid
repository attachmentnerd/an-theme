<style>
  .full-width-cta-section {
    position: relative;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    overflow: hidden;
  }

  .full-width-cta-overlay {
    position: absolute;
    inset: 0;
    z-index: 1;
    pointer-events: none;
  }

  .full-width-cta-content {
    position: relative;
    z-index: 2;
    margin: 0 auto;
  }

  .full-width-cta-tagline {
    font-size: var(--fs-caption);
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-sm);
    display: inline-block;
  }

  .full-width-cta-tagline-link {
    text-decoration: none;
    font-weight: 600;
    margin-left: 8px;
    transition: color 0.2s var(--ease-out);
  }

  .full-width-cta-title {
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: var(--space-lg);
  }

  .full-width-cta-subtitle {
    font-size: var(--fs-body-lg);
    line-height: 1.6;
    margin-bottom: var(--space-xl);
  }

  .full-width-cta-buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .full-width-cta-btn {
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
    display: inline-block;
  }

  .full-width-cta-buttons .btn-primary-modern:hover,
  .full-width-cta-buttons .btn-secondary-modern:hover {
    transform: translateY(-2px);
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .full-width-cta-title {
      font-size: 36px;
    }
    .full-width-cta-subtitle {
      font-size: 18px;
      margin-bottom: 32px;
    }
    .full-width-cta-buttons {
      flex-direction: column;
      align-items: center;
    }
    .full-width-cta-btn {
      width: 100%;
      max-width: 320px;
      text-align: center;
    }
  }
</style>

<section id="{{ section.settings.section_id | default: 'cta-full-width' }}-{{ section.id }}" class="full-width-cta-section"
  style="
    {% if section.settings.background_type == 'solid' or section.settings.background_image == blank %}
      background-color: {{ section.settings.background_color | default: '#F3F0FF' }};
    {% elsif section.settings.background_type == 'gradient' %}
      background: linear-gradient({{ section.settings.gradient_angle | default: 135 }}deg, {{ section.settings.gradient_start | default: '#EAE6FF' }} 0%, {{ section.settings.gradient_end | default: '#5E3BFF' }} 100%);
    {% endif %}
    padding-top: {{ section.settings.padding_top | default: 96 }}px;
    padding-bottom: {{ section.settings.padding_bottom | default: 96 }}px;
  ">

  <!-- Responsive Background Image -->
  {% if section.settings.background_type == 'image' and section.settings.background_image != blank %}
    <div class="cta-bg-image" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 0; overflow: hidden;">
      <img
          src="{{ section.settings.background_image | image_picker_url: '1600x' }}"
          srcset="{{ section.settings.background_image | image_picker_url: '800x' }} 800w,\n                  {{ section.settings.background_image | image_picker_url: '1200x' }} 1200w,\n                  {{ section.settings.background_image | image_picker_url: '1600x' }} 1600w,\n                  {{ section.settings.background_image | image_picker_url: '2000x' }} 2000w,\n                  {{ section.settings.background_image | image_picker_url: '2400x' }} 2400w"
          sizes="100vw"
          alt="{{ '' }}"
          class="cta-bg-img"
          loading="eager"
          fetchpriority="high">
    </div>
    <style>
      #{{ section.settings.section_id | default: 'cta-full-width' }}-{{ section.id }} .cta-bg-img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: {{ section.settings.background_size | default: 'cover' }};
        object-position: {{ section.settings.background_position | default: 'center' }};
      }
    </style>
  {% endif %}

  {% if section.settings.enable_overlay and section.settings.overlay_opacity > 0 %}
    <div class="full-width-cta-overlay" style="background-color: {{ section.settings.overlay_color | default: '#000000' }}; opacity: {{ section.settings.overlay_opacity | default: 30 | divided_by: 100.0 }};"></div>
  {% endif %}
  <div class="container">
    <div class="full-width-cta-content"
      style="
        max-width: {{ section.settings.content_max_width | default: 768 }}px;
        text-align: {{ section.settings.text_align | default: 'center' }};
        {% if section.settings.use_card %}
          background: {{ section.settings.card_bg | default: '#FFFFFF' }};
          border-radius: {{ section.settings.card_radius | default: 16 }}px;
          padding: {{ section.settings.card_padding | default: 32 }}px;
          {% if section.settings.card_shadow %}
            box-shadow: 0 0 0 1px rgba(0,0,0,0.04) inset, 0 10px 25px rgba(0,0,0,0.08);
          {% else %}
            box-shadow: none;
          {% endif %}
        {% else %}
          background: transparent;
          box-shadow: none;
          padding: 0;
        {% endif %}
      ">
      {% if section.settings.tagline != blank %}
        <p class="full-width-cta-tagline" kjb-settings-id="{{ 'tagline' | settings_id: section: section }}" style="color: {{ section.settings.tagline_color | default: '#F57C6F' }};">
          {{ section.settings.tagline }}
          {% if section.settings.cta_link != blank %}
            <a href="{{ section.settings.cta_link }}" class="full-width-cta-tagline-link" style="color: {{ section.settings.tagline_link_color | default: '#5E3BFF' }};">{{ section.settings.cta_text }}</a>
          {% endif %}
        </p>
      {% endif %}

      <h1 class="full-width-cta-title" kjb-settings-id="{{ 'title' | settings_id: section: section }}" style="color: {{ section.settings.title_color | default: '#0F172A' }}; font-size: {{ section.settings.title_size | default: 40 }}px;">
        {{ section.settings.title }}
      </h1>

      {% if section.settings.subtitle != blank %}
        <p class="full-width-cta-subtitle" kjb-settings-id="{{ 'subtitle' | settings_id: section: section }}" style="color: {{ section.settings.subtitle_color | default: '#334155' }};">
          {{ section.settings.subtitle }}
        </p>
      {% endif %}

      <div class="full-width-cta-buttons">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'button' %}
              <a href="{{ block.settings.button_link }}"
                 class="btn {% if block.settings.button_style == 'primary' %}btn-primary-modern full-width-cta-btn{% else %}btn-secondary-modern full-width-cta-btn{% endif %}"
                 kjb-settings-id="{{ 'button_text' | settings_id: section: section, block: block }}"
                 style="
                   {% if block.settings.button_style == 'primary' %}
                     {% if block.settings.use_custom_colors and block.settings.button_bg_color != blank %}
                       background: {{ block.settings.button_bg_color }};
                     {% else %}
                       background: {{ section.settings.primary_button_bg | default: '#5E3BFF' }};
                     {% endif %}
                     {% if block.settings.use_custom_colors and block.settings.button_text_color != blank %}
                       color: {{ block.settings.button_text_color }} !important;
                     {% else %}
                       color: {{ section.settings.primary_button_text | default: '#FFFFFF' }} !important;
                     {% endif %}
                     border: none;
                   {% else %}
                     background: transparent;
                     {% if block.settings.use_custom_colors and block.settings.button_text_color != blank %}
                       color: {{ block.settings.button_text_color }} !important;
                     {% else %}
                       color: {{ section.settings.secondary_button_text | default: '#FFFFFF' }} !important;
                     {% endif %}
                     {% if block.settings.use_custom_colors and block.settings.button_outline_color != blank %}
                       border: 2px solid {{ block.settings.button_outline_color }};
                     {% else %}
                       border: 2px solid {{ section.settings.secondary_button_border | default: 'rgba(255,255,255,0.4)' }};
                     {% endif %}
                   {% endif %}
                   border-radius: {{ section.settings.button_radius | default: 999 }}px;
                   padding: {% if block.settings.button_size == 'lg' %}14px 36px{% else %}12px 28px{% endif %};
                   {% if section.settings.button_shadow %}box-shadow: 0 4px 12px rgba(0,0,0,0.15);{% endif %}
                 ">
                {{ block.settings.button_text }}
              </a>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "CTA - Full Width",
  "elements": [
    { "type": "header", "content": "General" },
    { "type": "text", "id": "section_id", "label": "Section ID", "default": "cta-full-width", "info": "Custom ID for internal linking (e.g., #cta-full-width)" },

    { "type": "header", "content": "Background" },
    { "type": "select", "id": "background_type", "label": "Background Type", "default": "gradient", "options": [
      { "value": "gradient", "label": "Gradient" },
      { "value": "solid", "label": "Solid Color" },
      { "value": "image", "label": "Image" }
    ]},
    { "type": "image_picker", "id": "background_image", "label": "Background Image", "info": "Shown when Background Type is Image (1920x600+)" },
    { "type": "select", "id": "background_size", "label": "Image Size", "default": "cover", "options": [
      { "value": "cover", "label": "Cover" },
      { "value": "contain", "label": "Contain" }
    ]},
    { "type": "select", "id": "background_position", "label": "Image Position", "default": "center", "options": [
      { "value": "top", "label": "Top" },
      { "value": "center", "label": "Center" },
      { "value": "bottom", "label": "Bottom" }
    ]},
    { "type": "color", "id": "background_color", "label": "Background Color (solid)", "default": "#F3F0FF" },
    { "type": "color", "id": "gradient_start", "label": "Gradient Start", "default": "#EAE6FF" },
    { "type": "color", "id": "gradient_end", "label": "Gradient End", "default": "#5E3BFF" },
    { "type": "range", "id": "gradient_angle", "label": "Gradient Angle", "min": 0, "max": 360, "step": 15, "unit": "deg", "default": 135 },

    { "type": "checkbox", "id": "enable_overlay", "label": "Enable Color Overlay", "default": true },
    { "type": "color", "id": "overlay_color", "label": "Overlay Color", "default": "#000000" },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay Opacity", "min": 0, "max": 90, "step": 5, "unit": "%", "default": 30 },

    { "type": "header", "content": "Content" },
    { "type": "text", "id": "tagline", "label": "Tagline", "default": "Announcing our next round of funding.", "info": "Small text above the main title" },
    { "type": "text", "id": "cta_text", "label": "Tagline Link Text", "default": "Read more →", "info": "Optional link text after tagline" },
    { "type": "action", "id": "cta_link", "label": "Tagline Link", "anchor": true },
    { "type": "text", "id": "title", "label": "Title", "default": "Data to enrich your online business" },
    { "type": "range", "id": "title_size", "label": "Title Size", "min": 24, "max": 64, "step": 2, "unit": "px", "default": 40 },
    { "type": "textarea", "id": "subtitle", "label": "Subtitle", "default": "Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat.", "info": "Description text below the title" },

    { "type": "header", "content": "Typography Colors" },
    { "type": "color", "id": "tagline_color", "label": "Tagline Color", "default": "#F57C6F" },
    { "type": "color", "id": "tagline_link_color", "label": "Tagline Link Color", "default": "#5E3BFF" },
    { "type": "color", "id": "title_color", "label": "Title Color", "default": "#0F172A" },
    { "type": "color", "id": "subtitle_color", "label": "Subtitle Color", "default": "#334155" },

    { "type": "header", "content": "Layout & Spacing" },
    { "type": "select", "id": "text_align", "label": "Text Alignment", "default": "center", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ]},
    { "type": "range", "id": "content_max_width", "label": "Content Max Width", "min": 560, "max": 1200, "step": 20, "unit": "px", "default": 768 },
    { "type": "range", "id": "padding_top", "label": "Section Padding Top", "min": 24, "max": 200, "step": 4, "unit": "px", "default": 96 },
    { "type": "range", "id": "padding_bottom", "label": "Section Padding Bottom", "min": 24, "max": 200, "step": 4, "unit": "px", "default": 96 },

    { "type": "header", "content": "Content Card" },
    { "type": "checkbox", "id": "use_card", "label": "Use Card Background", "default": true },
    { "type": "color", "id": "card_bg", "label": "Card Background", "default": "#FFFFFF" },
    { "type": "range", "id": "card_radius", "label": "Card Radius", "min": 0, "max": 40, "step": 2, "unit": "px", "default": 16 },
    { "type": "range", "id": "card_padding", "label": "Card Padding", "min": 16, "max": 80, "step": 4, "unit": "px", "default": 32 },
    { "type": "checkbox", "id": "card_shadow", "label": "Card Shadow", "default": true },

    { "type": "header", "content": "Buttons (Global)" },
    { "type": "color", "id": "primary_button_bg", "label": "Primary Button Background", "default": "#5E3BFF" },
    { "type": "color", "id": "primary_button_text", "label": "Primary Button Text", "default": "#FFFFFF" },
    { "type": "color", "id": "secondary_button_text", "label": "Secondary Button Text", "default": "#FFFFFF" },
    { "type": "color", "id": "secondary_button_border", "label": "Secondary Button Border", "default": "rgba(255,255,255,0.4)" },
    { "type": "range", "id": "button_radius", "label": "Button Radius", "min": 0, "max": 999, "step": 1, "unit": "px", "default": 999 },
    { "type": "checkbox", "id": "button_shadow", "label": "Button Shadow", "default": true }
  ],
  "blocks": [
    {
      "type": "button",
      "name": "CTA Button",
      "elements": [
        { "type": "text", "id": "button_text", "label": "Button Text", "default": "Start Your Journey" },
        { "type": "action", "id": "button_link", "label": "Button Link", "anchor": true, "two_step": true },
        { "type": "radio", "id": "button_size", "label": "Button Size", "default": "md", "options": [ { "label": "Medium", "value": "md" }, { "label": "Large", "value": "lg" } ] },
        { "type": "radio", "id": "button_style", "label": "Button Style", "default": "primary", "options": [ { "label": "Primary", "value": "primary" }, { "label": "Secondary", "value": "secondary" } ] },
        { "type": "checkbox", "id": "use_custom_colors", "label": "Use custom colors", "default": false },
        { "type": "color", "id": "button_bg_color", "label": "Custom BG (primary)", "default": "#5E3BFF" },
        { "type": "color", "id": "button_text_color", "label": "Custom Text", "default": "#FFFFFF" },
        { "type": "color", "id": "button_outline_color", "label": "Custom Outline (secondary)", "default": "#FFFFFF" }
      ]
    }
  ],
  "presets": [
    {
      "name": "CTA - Full Width",
      "category": "Hero",
      "settings": {
        "tagline": "Announcing our next round of funding.",
        "cta_text": "Read more →",
        "title": "Data to enrich your online business",
        "subtitle": "Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo. Elit sunt amet fugiat veniam occaecat.",
        "background_type": "gradient",
        "gradient_start": "#EAE6FF",
        "gradient_end": "#5E3BFF",
        "gradient_angle": 135,
        "enable_overlay": true,
        "overlay_color": "#000000",
        "overlay_opacity": 30,
        "use_card": true,
        "card_bg": "#FFFFFF",
        "card_radius": 16,
        "card_padding": 32,
        "card_shadow": true,
        "title_color": "#0F172A",
        "subtitle_color": "#334155",
        "tagline_color": "#F57C6F",
        "tagline_link_color": "#5E3BFF",
        "content_max_width": 768,
        "text_align": "center",
        "padding_top": 96,
        "padding_bottom": 96,
        "primary_button_bg": "#5E3BFF",
        "primary_button_text": "#FFFFFF",
        "secondary_button_text": "#FFFFFF",
        "secondary_button_border": "rgba(255,255,255,0.4)",
        "button_radius": 999,
        "button_shadow": true,
        "title_size": 40
      },
      "blocks": [
        { "type": "button", "settings": { "button_text": "Get started", "button_style": "primary", "button_size": "lg" } },
        { "type": "button", "settings": { "button_text": "Learn more →", "button_style": "secondary", "button_size": "md" } }
      ]
    }
  ]
}
{% endschema %}
