<section class="sa-book-showcase py-5">
  <div class="container">
    <div class="row align-items-center g-5">
      <div class="col-lg-6 {% if section.settings.image_position == 'right' %}order-lg-2{% endif %}">
        <!-- Book visual -->
        <div class="position-relative animate-fade-up">
          <div class="book-showcase-visual">
            <!-- Background shape -->
            <div class="position-absolute" style="top: -20px; right: -20px; width: 100%; height: 100%; background: var(--c-accent-peach); opacity: 0.1; border-radius: 24px; transform: rotate(-3deg);"></div>
            
            <!-- Main image -->
            <div class="position-relative" style="background: white; padding: 40px; border-radius: 16px; box-shadow: 0 16px 48px rgba(0,0,0,0.08);">
              <div kjb-settings-id="{{ 'showcase_image' | settings_id: section: section }}">
                <img src="{{ section.settings.showcase_image | image_picker_url: '600x400' }}" 
             alt="{{ section.settings.image_alt }}" 
             class="img-fluid"
             loading="lazy"
             style="object-fit: cover;">
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6 {% if section.settings.image_position == 'right' %}order-lg-1{% endif %}">
        <div class="animate-fade-up" style="animation-delay: 0.1s;">
          <!-- Section badge -->
          {% if section.settings.badge_text != blank %}
            <div class="d-inline-flex align-items-center mb-3" style="background: var(--c-brand-100); padding: 6px 16px; border-radius: 100px;">
              <span style="color: var(--c-brand-600); font-weight: 600; font-size: 14px;" kjb-settings-id="{{ 'badge_text' | settings_id: section: section }}">
                {{ section.settings.badge_text }}
              </span>
            </div>
          {% endif %}
          
          <h2 class="mb-4" style="font-size: var(--fs-h1); color: var(--c-ink-900); font-weight: 500;" kjb-settings-id="{{ 'heading' | settings_id: section: section }}">
            {{ section.settings.heading }}
          </h2>
          
          <p class="mb-4" style="font-size: var(--fs-body-lg); color: var(--c-ink-700); line-height: 1.6;" kjb-settings-id="{{ 'description' | settings_id: section: section }}">
            {{ section.settings.description }}
          </p>
          
          <!-- Feature list -->
          <div class="mb-4">
            {% for block in section.blocks %}
              {% if block.type == 'feature' %}
                <div class="d-flex align-items-start mb-3 animate-fade-up" style="animation-delay: {{ forloop.index | times: 0.1 | plus: 0.2 }}s;">
                  <div class="flex-shrink-0 me-3">
                    <div style="width: 24px; height: 24px; background: var(--c-accent-teal); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="white">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                      </svg>
                    </div>
                  </div>
                  <div>
                    <p class="mb-0" style="color: var(--c-ink-800); font-weight: 500;" kjb-settings-id="{{ 'feature_text' | settings_id: section: section, block: block }}">
                      {{ block.settings.feature_text }}
                    </p>
                    {% if block.settings.feature_description != blank %}
                      <p class="mb-0 mt-1" style="font-size: 14px; color: var(--c-ink-600);" kjb-settings-id="{{ 'feature_description' | settings_id: section: section, block: block }}">
                        {{ block.settings.feature_description }}
                      </p>
                    {% endif %}
                  </div>
                </div>
              {% endif %}
            {% endfor %}
          </div>
          
          <!-- CTA -->
          {% if section.settings.cta_text != blank %}
            <a href="{{ section.settings.cta_url }}" 
               class="btn btn-primary-modern"
               style="color: var(--c-white) !important;"
               kjb-settings-id="{{ 'cta_text' | settings_id: section: section }}">
              {{ section.settings.cta_text }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Book - Hero SA",
  "elements": [
    {
      "type": "text",
      "id": "badge_text",
      "label": "Badge Text",
      "default": "The Workbook"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Unlock the Key to Deeply Satisfying Relationships"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Grounded in attachment theory research, Securely Attached clearly and gently guides you in delving deeper and overcoming problematic patterns that are holding you back from getting—and keeping—the close, fulfilling relationship you want."
    },
    {
      "type": "image_picker",
      "id": "showcase_image",
      "label": "Showcase Image"
    },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image Alt Text",
      "default": "Inside pages of Securely Attached workbook"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Text",
      "default": "Start Your Journey"
    },
    {
      "type": "text",
      "id": "cta_url",
      "label": "CTA URL"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Book - Hero SA",
      "elements": [
        {
          "type": "text",
          "id": "feature_text",
          "label": "Feature Text"
        },
        {
          "type": "text",
          "id": "feature_description",
          "label": "Feature Description (Optional)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Book - Hero SA",
      "category": "Content",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "feature_text": "IDENTIFY YOUR ATTACHMENT PATTERNS",
            "feature_description": "Understand which four categories inform your close relationships and why."
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_text": "HEAL PAST WOUNDS",
            "feature_description": "Reflect and process your unique attachment story for a perspective shift."
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_text": "DEVELOP TOOLS FOR GROWTH",
            "feature_description": "Quizzes, exercises, and tips provide actionable steps to learning secure patterns."
          }
        },
        {
          "type": "feature",
          "settings": {
            "feature_text": "LOVE SECURELY",
            "feature_description": "Find, build, and nurture healthy ways of loving—and being loved."
          }
        }
      ]
    }
  ]
}
{% endschema %}