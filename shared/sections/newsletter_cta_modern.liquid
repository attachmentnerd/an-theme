<!-- Newsletter CTA Section - Modern Full-Width Footer Style -->
<section class="newsletter-cta-modern py-5 position-relative" style="background-color: #FAFAFA;">
  <div class="container">
    <div class="cta-wrapper position-relative" style="background: var(--c-white); border-radius: 24px; padding: 64px 48px; box-shadow: 0 0 0 1px rgba(0,0,0,.04) inset, 0 8px 32px rgba(0,0,0,.04); overflow: hidden;">
      <!-- Background gradient decoration -->
      <div class="position-absolute" style="top: -100px; right: -100px; width: 300px; height: 300px; background: radial-gradient(circle, var(--c-accent-peach) 0%, transparent 70%); opacity: 0.1;"></div>
      <div class="position-absolute" style="bottom: -50px; left: -50px; width: 200px; height: 200px; background: radial-gradient(circle, var(--c-accent-teal) 0%, transparent 70%); opacity: 0.1;"></div>
      
      <div class="row justify-content-center position-relative">
        <div class="col-lg-8 text-center">
          <div class="cta-content animate-scale-fade" style="animation-delay: 0.1s;">
            <!-- Icon or emoji -->
            <div class="mb-3">
              <span style="font-size: 3rem;">{{ section.settings.icon }}</span>
            </div>
            
            <h3 class="mb-3" style="font-size: var(--fs-h1); font-weight: 500; color: var(--c-ink-900);" kjb-settings-id="{{ 'heading' | settings_id: section: section }}">
              {{ section.settings.heading }}
            </h3>
            
            <p class="mb-4" style="font-size: var(--fs-body-lg); color: var(--c-ink-700); max-width: 600px; margin: 0 auto;" kjb-settings-id="{{ 'subheading' | settings_id: section: section }}">
              {{ section.settings.subheading }}
            </p>
            
            <!-- Form -->
            <form class="newsletter-form" action="{{ section.settings.form_action }}" method="post">
              <div class="form-wrapper d-flex flex-column flex-sm-row gap-3 justify-content-center align-items-center" style="max-width: 500px; margin: 0 auto;">
                <input type="email" 
                       class="form-control-modern flex-grow-1" 
                       placeholder="{{ section.settings.email_placeholder }}"
                       name="email"
                       required
                       style="min-height: 48px; padding: 14px 20px; border: 1px solid var(--c-brand-100); border-radius: 8px; font-size: var(--fs-body); transition: all 0.2s ease; background: var(--c-white);"
                       kjb-settings-id="{{ 'email_placeholder' | settings_id: section: section }}">
                
                <button type="submit" 
                        class="btn btn-primary-modern btn-lg"
                        style="white-space: nowrap;"
                        kjb-settings-id="{{ 'button_text' | settings_id: section: section }}">
                  {{ section.settings.button_text }}
                </button>
              </div>
            </form>
            
            <!-- Benefits -->
            {% if section.settings.show_benefits %}
              <div class="benefits mt-4 d-flex flex-wrap justify-content-center gap-4">
                {% for block in section.blocks %}
                  {% case block.type %}
                    {% when 'benefit' %}
                      <div class="benefit-item d-flex align-items-center">
                        <span style="color: var(--c-accent-teal); margin-right: 8px; font-weight: 600;">âœ“</span>
                        <span style="font-size: var(--fs-caption); color: var(--c-ink-500);" kjb-settings-id="{{ 'text' | settings_id: section: section, block: block }}">
                          {{ block.settings.text }}
                        </span>
                      </div>
                  {% endcase %}
                {% endfor %}
              </div>
            {% endif %}
            
            {% if section.settings.disclaimer %}
              <p class="mt-3 mb-0" style="font-size: var(--fs-caption); color: var(--c-ink-500);" kjb-settings-id="{{ 'disclaimer' | settings_id: section: section }}">
                {{ section.settings.disclaimer }}
              </p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
/* Form input focus state */
.form-control-modern:focus {
  outline: none;
  border-color: var(--c-brand-600);
  box-shadow: 0 0 0 3px rgba(94, 59, 255, 0.1);
}

/* Scale and fade animation */
.animate-scale-fade {
  animation: scaleFade 0.6s var(--ease-spring) forwards;
  animation-fill-mode: both;
}

@keyframes scaleFade {
  from {
    opacity: 0;
    transform: scale(0.97) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* Button hover state */
.btn-primary-modern:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--c-white), 0 0 0 4px var(--c-brand-600);
}

/* CTA wrapper hover effect */
.cta-wrapper {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.newsletter-cta-modern:hover .cta-wrapper {
  transform: translateY(-2px);
  box-shadow: 0 0 0 1px rgba(0,0,0,.04) inset, 0 12px 48px rgba(0,0,0,.06);
}

/* Responsive adjustments */
@media (max-width: 767px) {
  .cta-wrapper {
    padding: 48px 24px !important;
  }
  
  .form-wrapper {
    max-width: 100% !important;
  }
}
</style>

{% schema %}
{
  "name": "Newsletter CTA - Modern",
  "elements": [
    {
      "type": "text",
      "id": "icon",
      "label": "Icon/Emoji",
      "default": "ðŸ’Œ"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Join Our Circle of Connected Parents"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Weekly wisdom drops: bite-sized attachment science + real-life scripts for those 'what do I say?' moments."
    },
    {
      "type": "text",
      "id": "email_placeholder",
      "label": "Email Placeholder",
      "default": "Your email (we protect it like family)"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Count Me In"
    },
    {
      "type": "text",
      "id": "disclaimer",
      "label": "Disclaimer Text",
      "default": "100% science. 0% spam. Unsubscribe with love anytime."
    },
    {
      "type": "action",
      "id": "form_action",
      "label": "Form Action URL",
      "default": "#"
    },
    {
      "type": "checkbox",
      "id": "show_benefits",
      "label": "Show Benefits",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit",
      "elements": [
        {
          "type": "text",
          "id": "text",
          "label": "Benefit Text",
          "default": "Free secure attachment guide"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Newsletter CTA - Modern",
      "category": "Call to Action",
      "blocks": [
        {
          "type": "benefit",
          "settings": {
            "text": "Free secure attachment guide"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "text": "Real-life connection scripts"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "text": "Early access to new resources"
          }
        }
      ],
      "settings": {
        "icon": "ðŸ’Œ",
        "heading": "Join Our Circle of Connected Parents",
        "subheading": "Weekly wisdom drops: bite-sized attachment science + real-life scripts for those 'what do I say?' moments.",
        "email_placeholder": "Your email (we protect it like family)",
        "button_text": "Count Me In",
        "disclaimer": "100% science. 0% spam. Unsubscribe with love anytime.",
        "show_benefits": true
      }
    }
  ]
}
{% endschema %}