{% if section.settings.section_id != blank %}<a id="{{ section.settings.section_id | escape }}"></a>{% endif %}
<section id="{{ section.settings.section_id | default: 'spp-details' }}-{{ section.id }}" class="spp-details py-6" style="--accent: {{ section.settings.accent_color | default: '#8B5CF6' }}; --ink: var(--c-ink-900); --muted: var(--c-ink-700); --chip-bg: {{ section.settings.chip_bg | default: '#F4F1FF' }}; --card-bg: {{ section.settings.card_bg | default: '#FFFFFF' }}; --card-b: {{ section.settings.card_border | default: 'rgba(0,0,0,0.08)' }};">
  <style>
    .spp-details .intro{max-width:900px;margin:0 auto 24px;text-align:center}
    .spp-details .eyebrow{display:inline-block;background:var(--chip-bg);border:1px solid var(--card-b);padding:6px 10px;border-radius:999px;font-weight:700;color:var(--ink);font-size:12px}
    .spp-details h2{margin:8px 0 6px;font-size:var(--fs-h1);font-weight:800;color:var(--ink);letter-spacing:-.01em}
    .spp-details .support-strong{color:var(--ink);font-weight:800}
    .spp-details .support{color:var(--muted)}
    .spp-details .lead{color:var(--muted);max-width:720px;margin:6px auto 22px}

    .spp-details .hero-img{max-width:560px;border-radius:14px;box-shadow:0 24px 60px rgba(0,0,0,.12);display:block;margin:0 auto 26px;height:auto}

    .spp-details .grid{display:grid;grid-template-columns:1fr;gap:14px;max-width:1000px;margin:0 auto}
    @media(min-width: 992px){.spp-details .grid{grid-template-columns:1fr 1fr}}
    .spp-details .item{background:var(--card-bg);border:1px solid var(--card-b);border-radius:14px;padding:16px 16px;display:flex;gap:12px;align-items:flex-start}
    .spp-details .it-ico{width:34px;height:34px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;background:var(--accent);color:#fff;flex:0 0 34px;font-size:18px}
    .spp-details .it-ico img{width:100%;height:100%;object-fit:cover;border-radius:50%}
    .spp-details .it-title{margin:0 0 2px;color:var(--ink);font-weight:700;font-size:16px}
    .spp-details .it-title a{color:var(--accent);text-decoration:underline}
    .spp-details .it-desc{margin:0;color:var(--muted);font-size:14px}
  </style>

  <div class="container">
    <div class="intro">
      {% if section.settings.eyebrow != blank %}
        <div class="eyebrow" kjb-settings-id="{{ 'eyebrow' | settings_id: section: section }}">{{ section.settings.eyebrow }}</div>
      {% endif %}
      <h2 kjb-settings-id="{{ 'heading' | settings_id: section: section }}">{{ section.settings.heading | default: 'What You Get From Day One' }}</h2>
      {% if section.settings.supporting != blank %}
        <p class="support" kjb-settings-id="{{ 'supporting' | settings_id: section: section }}">{{ section.settings.supporting }}</p>
      {% endif %}
      {% if section.settings.lead != blank %}
        <p class="lead" kjb-settings-id="{{ 'lead' | settings_id: section: section }}">{{ section.settings.lead }}</p>
      {% endif %}
    </div>

    {% if section.settings.center_image != blank %}
      <img class="hero-img" src="{{ section.settings.center_image | image_picker_url: '1200x' }}" alt="{{ section.settings.center_image_alt | escape }}" loading="lazy" decoding="async">
    {% endif %}

    <div class="grid">
      {% for block in section.blocks %}
        {% if block.type == 'detail' %}
          {% assign style_parts = '' %}
          {% if block.settings.accent_color != blank %}
            {% assign style_parts = style_parts | append: '--accent:' | append: block.settings.accent_color | append: ';' %}
          {% endif %}
          <div class="item"{% if style_parts != '' %} style="{{ style_parts }}"{% endif %}>
            <div class="it-ico">
              {% if block.settings.icon_image != blank %}
                                {% include 'responsive-image',
                  image: block.settings.icon_image,
                  alt: '',
                  class: 'img-fluid',
                  sizes: '(max-width: 767px) 100vw, (max-width: 991px) 50vw, 800px',
                  aspect_ratio: '16/9',
                  widths: '400,600,800,1200',
                  placeholder_type: 'feature',
                  blur_up: true
                %}
              {% else %}
                {{ block.settings.icon_emoji | default: '✔' }}
              {% endif %}
            </div>
            <div>
              <p class="it-title" kjb-settings-id="{{ 'title' | settings_id: block: block }}">
                {{ block.settings.title | default: 'Detail title' }}
                {% if block.settings.link_label != blank and block.settings.link_url != blank %}
                  <a href="{{ block.settings.link_url }}"{% if block.settings.link_new_tab %} target="_blank" rel="noopener"{% endif %}>{{ block.settings.link_label }}</a>
                {% endif %}
              </p>
              {% if block.settings.description != blank %}
                <p class="it-desc" kjb-settings-id="{{ 'description' | settings_id: block: block }}">{{ block.settings.description }}</p>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "SPP Details",
  "elements": [
    {"type": "header", "content": "General"},
    {"type": "text", "id": "section_id", "label": "Section ID", "default": "spp-details"},
    {"type": "text", "id": "eyebrow", "label": "Eyebrow", "default": "Lifetime access to everything"},
    {"type": "text", "id": "heading", "label": "Heading", "default": "What You Get From Day One"},
    {"type": "textarea", "id": "supporting", "label": "Supporting line", "default": "You need tools that work tonight. Here’s what’s waiting in your member dashboard:"},
    {"type": "textarea", "id": "lead", "label": "Secondary note"},

    {"type": "header", "content": "Center Image (optional)"},
    {"type": "image_picker", "id": "center_image", "label": "Image"},
    {"type": "text", "id": "center_image_alt", "label": "Image alt"},

    {"type": "header", "content": "Design"},
    {"type": "color", "id": "accent_color", "label": "Accent color", "default": "#8B5CF6"},
    {"type": "color", "id": "chip_bg", "label": "Eyebrow chip background", "default": "#F4F1FF"},
    {"type": "color", "id": "card_bg", "label": "Card background", "default": "#FFFFFF"},
    {"type": "color", "id": "card_border", "label": "Card border", "default": "rgba(0,0,0,0.08)"}
  ],
  "blocks": [
    {
      "type": "detail",
      "name": "Detail",
      "elements": [
        {"type": "text", "id": "title", "label": "Title", "default": "6 comprehensive video modules"},
        {"type": "text", "id": "link_label", "label": "Inline link label (optional)", "default": "45–60 minutes each"},
        {"type": "action", "id": "link_url", "label": "Inline link URL"},
        {"type": "checkbox", "id": "link_new_tab", "label": "Open link in new tab", "default": false},
        {"type": "textarea", "id": "description", "label": "Description", "default": "Self‑paced learning designed for busy parents."},
        {"type": "image_picker", "id": "icon_image", "label": "Icon image (optional)"},
        {"type": "text", "id": "icon_emoji", "label": "Icon emoji fallback", "default": "✅"},
        {"type": "color", "id": "accent_color", "label": "Accent override"}
      ]
    }
  ],
  "presets": [
    {
      "name": "SPP Details",
      "category": "Content",
      "blocks": [
        {"type": "detail", "settings": {"title": "6 comprehensive video modules", "link_label": "45–60 minutes each", "description": "Self‑paced learning designed for busy parents. Watch at 1.5x speed or in 10‑minute chunks."}},
        {"type": "detail", "settings": {"title": "Printable script cards & worksheets", "description": "Exact words for your pocket, purse, or phone."}},
        {"type": "detail", "settings": {"title": "Monthly live Q&A with Eli", "link_label": "recorded + searchable", "description": "Replays posted within 24 hours; every question time‑coded and searchable."}},
        {"type": "detail", "settings": {"title": "Age‑specific adaptations", "description": "Variants for toddlers, school‑age, and teens."}},
        {"type": "detail", "settings": {"title": "Neurodivergent‑affirming alternatives", "description": "ADHD, autism, and sensory‑friendly modifications throughout."}},
        {"type": "detail", "settings": {"title": "Partner alignment guide", "description": "How to get on the same page when your styles differ."}},
        {"type": "detail", "settings": {"title": "Emergency regulation tools", "description": "For when YOU need to calm down first."}}
      ]
    }
  ]
}
{% endschema %}
