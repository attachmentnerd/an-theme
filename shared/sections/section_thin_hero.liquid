{% comment %}
  Thin Hero — Shared
  Purpose: Slim, full-width banner with background image/video, subtle overlay,
  compact title and subheading. Highly stylable and safe across themes.
{% endcomment %}

{% assign s_id = section.id %}
{% assign dom_id = section.settings.section_id | default: 'thin-hero' %}

{% assign title_color = section.settings.title_color | default: 'var(--c-white, #fff)' %}
{% assign sub_color = section.settings.sub_color | default: 'rgba(255,255,255,.92)' %}
{% assign overlay_from = section.settings.overlay_color_from | default: '#000000' %}
{% assign overlay_to = section.settings.overlay_color_to | default: '#000000' %}
{% assign overlay_angle = section.settings.overlay_angle | default: 180 %}
{% assign overlay_opacity_percent = section.settings.overlay_opacity | default: 70 | plus: 0 %}
{% assign overlay_opacity = overlay_opacity_percent | divided_by: 100.0 %}
{% assign bg_color = section.settings.bg_color | default: 'var(--c-ink-950, #0d1321)' %}

{%- assign preset = section.settings.style_preset | default: 'custom' -%}
{%- if preset != 'custom' -%}
  {%- case preset -%}
    {%- when 'sunset' -%}
      {%- assign overlay_from = '#D4145A' -%}
      {%- assign overlay_to = '#FBB03B' -%}
      {%- assign title_color = '#FFFFFF' -%}
      {%- assign sub_color = '#F0F0F0' -%}
      {%- assign bg_color = '#3E1D1D' -%}
    {%- when 'plum' -%}
      {%- assign overlay_from = '#3A0CA3' -%}
      {%- assign overlay_to = '#B5179E' -%}
      {%- assign title_color = '#FFFFFF' -%}
      {%- assign sub_color = '#EAEAFF' -%}
      {%- assign bg_color = '#1F1228' -%}
    {%- when 'ocean' -%}
      {%- assign overlay_from = '#0F2027' -%}
      {%- assign overlay_to = '#2C5364' -%}
      {%- assign title_color = '#FFFFFF' -%}
      {%- assign sub_color = '#E8FBFF' -%}
      {%- assign bg_color = '#07131A' -%}
    {%- when 'warm' -%}
      {%- assign overlay_from = '#A83279' -%}
      {%- assign overlay_to = '#D38312' -%}
      {%- assign title_color = '#FFFFFF' -%}
      {%- assign sub_color = '#FFF6F0' -%}
      {%- assign bg_color = '#3A1D2C' -%}

    {%- when 'spp_dashboard' -%}
      {%- assign overlay_from = '#E9E6FF' -%}
      {%- assign overlay_to = '#E9E6FF' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#E9E6FF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'module_pages' -%}
      {%- assign overlay_from = '#F4F2FF' -%}
      {%- assign overlay_to = '#F4F2FF' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#F4F2FF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'ask_eli_question' -%}
      {%- assign overlay_from = '#F1EFFF' -%}
      {%- assign overlay_to = '#F1EFFF' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#F1EFFF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'live_qa' -%}
      {%- assign overlay_from = '#EDEAFF' -%}
      {%- assign overlay_to = '#EDEAFF' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#EDEAFF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'office_hours' -%}
      {%- assign overlay_from = '#F6F5FF' -%}
      {%- assign overlay_to = '#F6F5FF' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#F6F5FF' -%}
      {%- assign breadcrumb_color = '#4025E0' -%}

    {%- when 'downloads_center' -%}
      {%- assign overlay_from = '#FFFBF0' -%}
      {%- assign overlay_to = '#FFFBF0' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#FFFBF0' -%}
      {%- assign breadcrumb_color = '#FFE86B' -%}
    {%- when 'video_library' -%}
      {%- assign overlay_from = '#F8FEFF' -%}
      {%- assign overlay_to = '#F8FEFF' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#F8FEFF' -%}
      {%- assign breadcrumb_color = '#18D5E4' -%}
    {%- when 'worksheets_pdfs' -%}
      {%- assign overlay_from = '#FFFCF2' -%}
      {%- assign overlay_to = '#FFFCF2' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#FFFCF2' -%}
      {%- assign breadcrumb_color = '#18D5E4' -%}
    {%- when 'free_resources' -%}
      {%- assign overlay_from = '#FFF9ED' -%}
      {%- assign overlay_to = '#FFF9ED' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#FFF9ED' -%}
      {%- assign breadcrumb_color = '#FFE86B' -%}

    {%- when 'parent_community' -%}
      {%- assign overlay_from = '#FFF8FC' -%}
      {%- assign overlay_to = '#FFF8FC' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#FFF8FC' -%}
      {%- assign breadcrumb_color = '#FF8BCB' -%}
    {%- when 'testimonials' -%}
      {%- assign overlay_from = '#FFFAFD' -%}
      {%- assign overlay_to = '#FFFAFD' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#FFFAFD' -%}
      {%- assign breadcrumb_color = '#FF8BCB' -%}
    {%- when 'user_profiles' -%}
      {%- assign overlay_from = '#FFF7FB' -%}
      {%- assign overlay_to = '#FFF7FB' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#FFF7FB' -%}
      {%- assign breadcrumb_color = '#FF8BCB' -%}

    {%- when 'progress_dashboard' -%}
      {%- assign overlay_from = '#F7FDF9' -%}
      {%- assign overlay_to = '#F7FDF9' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#F7FDF9' -%}
      {%- assign breadcrumb_color = '#22C55E' -%}
    {%- when 'completed_modules' -%}
      {%- assign overlay_from = '#F9FEFB' -%}
      {%- assign overlay_to = '#F9FEFB' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#F9FEFB' -%}
      {%- assign breadcrumb_color = '#22C55E' -%}
    {%- when 'achievements_certificates' -%}
      {%- assign overlay_from = '#F5FCF7' -%}
      {%- assign overlay_to = '#F5FCF7' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#F5FCF7' -%}
      {%- assign breadcrumb_color = '#22C55E' -%}

    {%- when 'support_portal' -%}
      {%- assign overlay_from = '#F6FEFF' -%}
      {%- assign overlay_to = '#F6FEFF' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#F6FEFF' -%}
      {%- assign breadcrumb_color = '#18D5E4' -%}
    {%- when 'faq_pages' -%}
      {%- assign overlay_from = '#F8FEFF' -%}
      {%- assign overlay_to = '#F8FEFF' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#F8FEFF' -%}
      {%- assign breadcrumb_color = '#18D5E4' -%}
    {%- when 'contact_forms' -%}
      {%- assign overlay_from = '#F4FEFF' -%}
      {%- assign overlay_to = '#F4FEFF' -%}
      {%- assign overlay_opacity_percent = 100 -%}
      {%- assign bg_color = '#F4FEFF' -%}
      {%- assign breadcrumb_color = '#18D5E4' -%}

    {%- when 'account_settings' -%}
      {%- assign overlay_from = '#FCFCFD' -%}
      {%- assign overlay_to = '#FCFCFD' -%}
      {%- assign overlay_opacity_percent = 50 -%}
      {%- assign bg_color = '#FCFCFD' -%}
      {%- assign breadcrumb_color = '#323346' -%}
    {%- when 'billing' -%}
      {%- assign overlay_from = '#FBFBFC' -%}
      {%- assign overlay_to = '#FBFBFC' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#FBFBFC' -%}
      {%- assign breadcrumb_color = '#323346' -%}
    {%- when 'privacy_legal' -%}
      {%- assign overlay_from = '#FDFDFD' -%}
      {%- assign overlay_to = '#FDFDFD' -%}
      {%- assign overlay_opacity_percent = 40 -%}
      {%- assign bg_color = '#FDFDFD' -%}
      {%- assign breadcrumb_color = '#323346' -%}

    {%- when 'event_calendar' -%}
      {%- assign overlay_from = '#F2F0FF' -%}
      {%- assign overlay_to = '#F2F0FF' -%}
      {%- assign overlay_opacity_percent = 60 -%}
      {%- assign bg_color = '#F2F0FF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'booking_pages' -%}
      {%- assign overlay_from = '#FFF8FC' -%}
      {%- assign overlay_to = '#FFF8FC' -%}
      {%- assign overlay_opacity_percent = 80 -%}
      {%- assign bg_color = '#FFF8FC' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
    {%- when 'reminders' -%}
      {%- assign overlay_from = '#F6F5FF' -%}
      {%- assign overlay_to = '#F6F5FF' -%}
      {%- assign overlay_opacity_percent = 50 -%}
      {%- assign bg_color = '#F6F5FF' -%}
      {%- assign breadcrumb_color = '#5E3BFF' -%}
  {%- endcase -%}
{%- endif -%}

{%- assign overlay_opacity = overlay_opacity_percent | divided_by: 100.0 -%}

{% assign min_h_desktop = section.settings.min_h_desktop | default: 280 %}
{% assign min_h_mobile = section.settings.min_h_mobile | default: 180 %}

<section id="{{ dom_id }}-{{ s_id }}" class="an-section an-theme thin-hero" aria-label="Hero">
  <div class="th-media" aria-hidden="true">
    {% if section.settings.bg_image != blank %}
      {% assign bg_w = section.settings.bg_width | default: 2400 %}
      <div class="th-img" style="background-image:url('{{ section.settings.bg_image | image_url: width: bg_w }}');"></div>
    {% else %}
      <div class="th-fallback" style="background:{{ bg_color }}"></div>
    {% endif %}
    <div class="th-overlay"></div>
  </div>

  <div class="th-wrap">
    {% if section.settings.show_breadcrumbs and section.settings.breadcrumbs != blank %}
      <nav class="th-crumbs" aria-label="Breadcrumbs">
        {% assign crumbs = section.settings.breadcrumbs | split: '>' %}
        {% for c in crumbs %}
          {% assign ct = c | strip %}
          {% if ct != blank %}
            <span class="th-crumb">{{ ct }}</span>{% unless forloop.last %}<span class="th-sep" aria-hidden="true">{{ section.settings.breadcrumb_sep | default: '›' }}</span>{% endunless %}
          {% endif %}
        {% endfor %}
      </nav>
    {% endif %}

    <header class="th-header">
      {% assign h = section.settings.heading | default: 'Support When You Need It Most' %}
      <h1 class="th-title">{{ h }}</h1>
      {% if section.settings.subheading != blank %}
        <p class="th-sub">{{ section.settings.subheading }}</p>
      {% endif %}
    </header>
  </div>

  <style>
    #{{ dom_id }}-{{ s_id }}{position:relative; isolation:isolate}
    #{{ dom_id }}-{{ s_id }} .th-media{position:absolute; inset:0; overflow:hidden; z-index:0}
    #{{ dom_id }}-{{ s_id }} .th-img{position:absolute; inset:0; background-size:{{ section.settings.bg_fit | default: 'cover' }}; background-repeat:no-repeat; background-position:{{ section.settings.focal_point | default: '50% 50%' }}}
    #{{ dom_id }}-{{ s_id }} .th-fallback{position:absolute; inset:0}
    #{{ dom_id }}-{{ s_id }} .th-overlay{position:absolute; inset:0; background:linear-gradient({{ overlay_angle }}deg, {{ overlay_from }}, {{ overlay_to }}); opacity: {{ overlay_opacity }}}

    #{{ dom_id }}-{{ s_id }} .th-wrap{position:relative; z-index:1; max-width:{{ section.settings.max_width | default: '1200px' }}; margin:0 auto; padding:{{ section.settings.padding_y_mobile | default: '28px' }} {{ section.settings.padding_x | default: '22px' }}; min-height:{{ min_h_mobile }}px; display:flex; flex-direction:column; justify-content:center; align-items:{{ section.settings.align | default: 'flex-start' }}; text-align:{{ section.settings.text_align | default: 'left' }}}
    @media(min-width: 768px){
      #{{ dom_id }}-{{ s_id }} .th-wrap{padding:{{ section.settings.padding_y_desktop | default: '56px' }} {{ section.settings.padding_x | default: '22px' }}; min-height:{{ min_h_desktop }}px}
    }

    #{{ dom_id }}-{{ s_id }} .th-crumbs{color:{{ section.settings.breadcrumb_color | default: 'rgba(255,255,255,.82)' }}; font-size:.95rem; margin:0 0 10px}
    #{{ dom_id }}-{{ s_id }} .th-crumb{opacity:.95}
    #{{ dom_id }}-{{ s_id }} .th-sep{margin:0 8px; opacity:.7}

    #{{ dom_id }}-{{ s_id }} .th-header{max-width:{{ section.settings.text_max_width | default: '860px' }}}
    #{{ dom_id }}-{{ s_id }} .th-title{margin:0; color:{{ title_color }}; font-weight:800; letter-spacing:-.01em; line-height:1.12; font-size:clamp(28px, 3.8vw, {{ section.settings.title_max_px | default: 56 }}px)}
    #{{ dom_id }}-{{ s_id }} .th-sub{margin:8px 0 0; color:{{ sub_color }}; font-size:clamp(15px, 2.1vw, {{ section.settings.sub_max_px | default: 20 }}px); line-height:1.5}

    /* Optional drop shadow for readability */
    {% if section.settings.enable_text_shadow %}
    #{{ dom_id }}-{{ s_id }} .th-title, #{{ dom_id }}-{{ s_id }} .th-sub{ text-shadow: 0 1px 2px rgba(0,0,0,.45) }
    {% endif %}
  </style>

  <script>
    (function(){
      var root = document.getElementById('{{ dom_id }}-{{ s_id }}');
      if(!root || root.dataset.inited==='1') return; root.dataset.inited='1';
      document.documentElement.classList.add('an-js');
      var align = '{{ section.settings.align | default: 'flex-start' }}';
      if(align === 'center'){ root.querySelector('.th-wrap').style.alignItems = 'center'; }
      if(align === 'flex-end'){ root.querySelector('.th-wrap').style.alignItems = 'flex-end'; }
    })();
  </script>
</section>

{% schema %}
{
  "name": "Thin Hero (Shared)",
  "elements": [
    { "type": "text", "id": "section_id", "label": "Section ID", "default": "thin-hero" },

    { "type": "select", "id": "style_preset", "label": "Style preset", "default": "custom", "options": [
      {"value":"custom","label":"Custom"},
      {"value":"sunset","label":"Sunset"},
      {"value":"plum","label":"Plum"},
      {"value":"ocean","label":"Ocean"},
      {"value":"warm","label":"Warm"},
      {"value":"spp_dashboard","label":"Core Program — SPP Dashboard"},
      {"value":"module_pages","label":"Core Program — Module Pages"},
      {"value":"ask_eli_question","label":"Core Program — Ask Eli Question"},
      {"value":"live_qa","label":"Core Program — Live Q&A"},
      {"value":"office_hours","label":"Core Program — Office Hours"},
      {"value":"downloads_center","label":"Content — Downloads Center"},
      {"value":"video_library","label":"Content — Video Library"},
      {"value":"worksheets_pdfs","label":"Content — Worksheets/PDFs"},
      {"value":"free_resources","label":"Content — Free Resources"},
      {"value":"parent_community","label":"Community — Parent Community"},
      {"value":"testimonials","label":"Community — Testimonials"},
      {"value":"user_profiles","label":"Community — User Profiles"},
      {"value":"progress_dashboard","label":"Progress — Progress Dashboard"},
      {"value":"completed_modules","label":"Progress — Completed Modules"},
      {"value":"achievements_certificates","label":"Progress — Achievements/Certificates"},
      {"value":"support_portal","label":"Support — Support Portal"},
      {"value":"faq_pages","label":"Support — FAQ Pages"},
      {"value":"contact_forms","label":"Support — Contact Forms"},
      {"value":"account_settings","label":"Admin — Account Settings"},
      {"value":"billing","label":"Admin — Billing"},
      {"value":"privacy_legal","label":"Admin — Privacy/Legal"},
      {"value":"event_calendar","label":"Scheduling — Event Calendar"},
      {"value":"booking_pages","label":"Scheduling — Booking Pages"},
      {"value":"reminders","label":"Scheduling — Reminders"}
    ] },

    { "type": "image_picker", "id": "bg_image", "label": "Background image" },
    { "type": "color", "id": "bg_color", "label": "Fallback background color", "default": "#0d1321" },
    { "type": "text", "id": "focal_point", "label": "Image focal point (e.g. 50% 30%)", "default": "50% 50%" },
    { "type": "select", "id": "bg_fit", "label": "Background fit", "default": "cover", "options": [
      {"value":"cover","label":"Cover"}, {"value":"contain","label":"Contain"}, {"value":"auto","label":"Auto"}
    ] },
    { "type": "range", "id": "bg_width", "label": "Image request width (px)", "default": 2400, "min": 800, "max": 4000, "step": 100 },

    { "type": "color", "id": "overlay_color_from", "label": "Overlay start color", "default": "#000000" },
    { "type": "color", "id": "overlay_color_to", "label": "Overlay end color", "default": "#000000" },
    { "type": "range", "id": "overlay_angle", "label": "Overlay angle (deg)", "default": 180, "min": 0, "max": 360, "step": 1 },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay opacity (%)", "default": 70, "min": 0, "max": 100, "step": 1 },

    { "type": "textarea", "id": "heading", "label": "Heading", "default": "Support When You Need It Most" },
    { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "We understand the unique challenges of motherhood. Find compassionate support, practical resources, and a community that truly gets it." },
    { "type": "color", "id": "title_color", "label": "Title color", "default": "#ffffff" },
    { "type": "color", "id": "sub_color", "label": "Subheading color", "default": "#EDEDED" },
    { "type": "range", "id": "title_max_px", "label": "Max title size (px)", "default": 56, "min": 24, "max": 84, "step": 1 },
    { "type": "range", "id": "sub_max_px", "label": "Max subheading size (px)", "default": 20, "min": 14, "max": 28, "step": 1 },
    { "type": "checkbox", "id": "enable_text_shadow", "label": "Improve readability with text shadow", "default": true },

    { "type": "text", "id": "max_width", "label": "Content max width", "default": "1200px" },
    { "type": "text", "id": "text_max_width", "label": "Text block max width", "default": "860px" },
    { "type": "text", "id": "padding_x", "label": "Horizontal padding", "default": "22px" },
    { "type": "text", "id": "padding_y_mobile", "label": "Vertical padding (mobile)", "default": "28px" },
    { "type": "text", "id": "padding_y_desktop", "label": "Vertical padding (desktop)", "default": "56px" },
    { "type": "range", "id": "min_h_mobile", "label": "Min height (mobile px)", "default": 180, "min": 120, "max": 360, "step": 10 },
    { "type": "range", "id": "min_h_desktop", "label": "Min height (desktop px)", "default": 280, "min": 160, "max": 560, "step": 10 },
    { "type": "select", "id": "align", "label": "Vertical alignment", "default": "flex-start", "options": [
      {"value":"flex-start","label":"Top"}, {"value":"center","label":"Center"}, {"value":"flex-end","label":"Bottom"}
    ] },
    { "type": "select", "id": "text_align", "label": "Text alignment", "default": "left", "options": [
      {"value":"left","label":"Left"}, {"value":"center","label":"Center"}, {"value":"right","label":"Right"}
    ] },

    { "type": "checkbox", "id": "show_breadcrumbs", "label": "Show breadcrumbs", "default": false },
    { "type": "text", "id": "breadcrumbs", "label": "Breadcrumbs (use > to separate)", "default": "Home > Support" },
    { "type": "text", "id": "breadcrumb_sep", "label": "Breadcrumb separator", "default": "›" },
    { "type": "color", "id": "breadcrumb_color", "label": "Breadcrumb color", "default": "#F0F0F0" }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "Thin Hero",
      "category": "Hero",
      "settings": {
        "heading": "Support When You Need It Most",
        "subheading": "We understand the unique challenges of motherhood. Find compassionate support, practical resources, and a community that truly gets it.",
        "show_breadcrumbs": true,
        "breadcrumbs": "Home > Support",
        "enable_text_shadow": true
      }
    }
  ]
}
{% endschema %}


