<section class="sa-patterns py-5">
  <div class="container">
    <div class="text-center mb-5 animate-fade-up">
      <h2 class="mb-4" style="font-size: var(--fs-h1); color: var(--c-ink-900); font-weight: 500;" kjb-settings-id="{{ 'heading' | settings_id: section: section }}">
        {{ section.settings.heading }}
      </h2>
      <p style="font-size: var(--fs-body-lg); color: var(--c-ink-700); max-width: 700px; margin: 0 auto;" kjb-settings-id="{{ 'subheading' | settings_id: section: section }}">
        {{ section.settings.subheading }}
      </p>
    </div>
    
    <div class="row g-4">
      {% for block in section.blocks %}
        {% if block.type == 'pattern' %}
          <div class="col-lg-4 animate-fade-up" style="animation-delay: {{ forloop.index | times: 0.1 }}s;">
            <div class="h-100 position-relative overflow-hidden" style="background: white; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,.05); border: 1px solid rgba(94,59,255,0.1); transition: all 0.3s ease;">
              <!-- Hover effect -->
              <div class="position-absolute inset-0" style="background: linear-gradient(135deg, var(--c-brand-100) 0%, transparent 100%); opacity: 0; transition: opacity 0.3s ease;"></div>
              
              <div class="p-4 position-relative">
                <!-- Pattern name with color accent -->
                <div class="mb-3">
                  <h3 class="mb-2" style="font-size: 24px; color: var(--c-ink-900); font-weight: 500;" kjb-settings-id="{{ 'pattern_name' | settings_id: section: section, block: block }}">
                    {{ block.settings.pattern_name }}
                  </h3>
                  <div style="width: 40px; height: 3px; background: {{ block.settings.accent_color | default: 'var(--c-accent-teal)' }}; border-radius: 2px;"></div>
                </div>
                
                <!-- Quote -->
                <p class="mb-3" style="font-size: 16px; color: var(--c-ink-700); line-height: 1.6; font-style: italic;" kjb-settings-id="{{ 'quote' | settings_id: section: section, block: block }}">
                  "{{ block.settings.quote }}"
                </p>
                
                <!-- Description -->
                {% if block.settings.description != blank %}
                  <p style="font-size: 14px; color: var(--c-ink-600); line-height: 1.5;" kjb-settings-id="{{ 'description' | settings_id: section: section, block: block }}">
                    {{ block.settings.description }}
                  </p>
                {% endif %}
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
    
    {% if section.settings.bottom_text != blank %}
      <div class="text-center mt-5 animate-fade-up" style="animation-delay: 0.4s;">
        <p style="font-size: var(--fs-body-lg); color: var(--c-ink-700); font-weight: 500;" kjb-settings-id="{{ 'bottom_text' | settings_id: section: section }}">
          {{ section.settings.bottom_text }}
        </p>
      </div>
    {% endif %}
  </div>
</section>

<style>
  .sa-patterns .col-lg-4:hover > div {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0,0,0,.08);
  }
  
  .sa-patterns .col-lg-4:hover .position-absolute {
    opacity: 0.03;
  }
</style>

{% schema %}
{
  "name": "SA Patterns",
  "elements": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Does This Sound Like You?"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "If you're experiencing any of these relationship patterns, you're not alone:"
    },
    {
      "type": "text",
      "id": "bottom_text",
      "label": "Bottom Text",
      "default": "The good news? These patterns can be transformed with the right tools and guidance."
    }
  ],
  "blocks": [
    {
      "type": "pattern",
      "name": "Attachment Pattern",
      "elements": [
        {
          "type": "text",
          "id": "pattern_name",
          "label": "Pattern Name"
        },
        {
          "type": "textarea",
          "id": "quote",
          "label": "Quote/Experience"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description (Optional)"
        },
        {
          "type": "select",
          "id": "accent_color",
          "label": "Accent Color",
          "options": [
            { "value": "var(--c-accent-teal)", "label": "Teal" },
            { "value": "var(--c-accent-peach)", "label": "Peach" },
            { "value": "var(--c-accent-lemon)", "label": "Lemon" },
            { "value": "var(--c-brand-600)", "label": "Purple" }
          ],
          "default": "var(--c-accent-teal)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SA Patterns",
      "category": "Content",
      "blocks": [
        {
          "type": "pattern",
          "settings": {
            "pattern_name": "The Anxious Spiral",
            "quote": "I constantly worry my partner will leave me. I need reassurance but it's never enough. The more I reach out, the more they pull away.",
            "accent_color": "var(--c-accent-peach)"
          }
        },
        {
          "type": "pattern",
          "settings": {
            "pattern_name": "The Avoidant Wall",
            "quote": "I want connection but when things get too close, I shut down. I pride myself on independence but feel lonely even in relationships.",
            "accent_color": "var(--c-accent-teal)"
          }
        },
        {
          "type": "pattern",
          "settings": {
            "pattern_name": "The Push-Pull Dance",
            "quote": "We keep having the same fights. One of us pursues, the other withdraws. We love each other but can't break this exhausting cycle.",
            "accent_color": "var(--c-accent-lemon)"
          }
        }
      ]
    }
  ]
}
{% endschema %}